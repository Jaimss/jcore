plugins {
    id "org.jetbrains.kotlin.jvm" version "1.4.21"
    id "me.bristermitten.pdm" version "0.0.29"
}

def ver = "1.0.0-SNAPSHOT"

group "dev.jaims"
version ver

// subprojects setup
subprojects {
    apply plugin: "org.jetbrains.kotlin.jvm"
    apply plugin: "me.bristermitten.pdm"

    // all subprojects have the same group/version as the main project
    group "dev.jaims.jcore"
    version ver

    // all projects have some shared dependencies & repositories
    repositories {
        mavenCentral()
        maven { url "https://repo.jaims.dev/repository/maven-releases/" }
        maven { url "https://papermc.io/repo/repository/maven-public/" }
    }
    dependencies {
        pdm "org.jetbrains.kotlin:kotlin-stdlib"

        testImplementation "org.jetbrains.kotlin:kotlin-test-junit"
    }

    // use the pdm task every time you build
    tasks.build.dependsOn tasks.pdm

    // kotlin options
    compileKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
    compileTestKotlin {
        kotlinOptions.jvmTarget = "1.8"
    }
}